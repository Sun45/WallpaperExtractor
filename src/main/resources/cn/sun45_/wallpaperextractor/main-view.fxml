<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.RadioButton?>
<?import javafx.scene.control.ToggleGroup?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import org.kordamp.ikonli.javafx.FontIcon?>

<?import com.dlsc.gemsfx.CalendarPicker?>
<?import com.dlsc.gemsfx.TimePicker?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.Region?>
<VBox alignment="TOP_CENTER" spacing="15.0" xmlns:fx="http://javafx.com/fxml"
      fx:controller="cn.sun45_.wallpaperextractor.controller.MainController"
      style="-fx-background-color: #f8f9fa;">
    <padding>
        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0"/>
    </padding>

    <!-- 顶部工具栏 - 紧凑设计 -->
    <HBox alignment="CENTER_LEFT" spacing="12" style="-fx-padding: 0 0 8 0;">
        <FontIcon onMouseClicked="#onSettingClick"
                  style="-fx-cursor: hand; -fx-icon-code:fas-cog; -fx-icon-size: 18px; -fx-icon-color: #6c757d;"/>
        <Label text="壁纸提取器" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #343a40;"/>
    </HBox>

    <!-- 时间设置区域 - 紧凑设计 -->
    <HBox alignment="CENTER_LEFT" spacing="10"
          style="-fx-background-color: white; -fx-padding: 12px; -fx-border-radius: 6px; -fx-background-radius: 6px; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 3, 0, 0, 1);">
        <Label text="起始时间:" style="-fx-font-size: 12px; -fx-text-fill: #6c757d;"/>
        <CalendarPicker fx:id="calendarPicker" prefWidth="130" style="-fx-font-size: 11px;"/>
        <TimePicker fx:id="timePicker" prefWidth="110" style="-fx-font-size: 11px;"/>
        <Button fx:id="updateTimeButton" text="更新时间" onAction="#onUpdateTimeClick"
                style="-fx-background-color: #007bff; -fx-text-fill: white; -fx-font-size: 11px; -fx-padding: 5px 10px; -fx-background-radius: 4px;"/>
    </HBox>

    <!-- 列表展示区域 - 最大化空间 -->
    <VBox spacing="6" VBox.vgrow="ALWAYS">
        <HBox alignment="CENTER_LEFT" spacing="10">
            <Label text="订阅状态变化的壁纸"
                   style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #495057;"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Label fx:id="countLabel" text="0个"
                   style="-fx-font-size: 12px; -fx-text-fill: #6c757d; -fx-font-weight: bold;"/>
        </HBox>
        <ListView fx:id="idListView" prefHeight="600"
                  style="-fx-border-radius: 8px; -fx-background-radius: 8px; -fx-border-color: #dee2e6;
                         -fx-selection-bar: transparent; -fx-selection-bar-non-focused: transparent;
                         -fx-background-color: transparent;
                         /* 滚动条样式 */
                         -fx-scroll-bar-background-color: transparent;
                         -fx-scroll-bar-track-background-color: #f1f3f4;
                         -fx-scroll-bar-thumb-background-color: #c1c7cd;
                         -fx-scroll-bar-thumb-background-radius: 4px;
                         -fx-scroll-bar-thumb-hover-background-color: #a8b0b8;"/>
    </VBox>

    <!-- 状态信息 -->
    <Label fx:id="statusLabel" style="-fx-text-fill: #6c757d; -fx-font-size: 11px; -fx-font-style: italic;"/>

    <!-- 拷贝设置区域 - 紧凑设计 -->
    <VBox spacing="12"
          style="-fx-background-color: white; -fx-padding: 15px; -fx-border-radius: 6px; -fx-background-radius: 6px; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 3, 0, 0, 1);">
        <Label text="拷贝设置" style="-fx-font-size: 13px; -fx-font-weight: bold; -fx-text-fill: #495057;"/>

        <!-- 拷贝方式选择 -->
        <HBox alignment="CENTER_LEFT" spacing="12">
            <Label text="拷贝方式:" style="-fx-font-size: 12px; -fx-text-fill: #6c757d;"/>
            <RadioButton text="视频文件" selected="true" fx:id="copyVideoRadioButton"
                         style="-fx-font-size: 11px;"/>
            <RadioButton text="整体文件夹" fx:id="copyDirectoryRadioButton"
                         style="-fx-font-size: 11px;"/>
        </HBox>

        <!-- 目标路径设置 -->
        <HBox alignment="CENTER_LEFT" spacing="8">
            <Label text="目标路径:" style="-fx-font-size: 12px; -fx-text-fill: #6c757d;"/>
            <TextField fx:id="copyPathTextField" prefWidth="380" promptText="请输入拷贝目标路径"
                       style="-fx-font-size: 11px; -fx-padding: 5px 8px; -fx-background-radius: 4px;"/>
            <Button fx:id="copyButton" text="开始拷贝" onAction="#onCopyButtonClick"
                    style="-fx-background-color: #28a745; -fx-text-fill: white; -fx-font-size: 11px; -fx-padding: 5px 14px; -fx-background-radius: 4px;"/>
        </HBox>
    </VBox>
</VBox>
